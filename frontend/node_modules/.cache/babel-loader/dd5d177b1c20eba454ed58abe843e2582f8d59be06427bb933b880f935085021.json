{"ast":null,"code":"// Main chat window where users talk to their AI\nimport React,{useState,useRef,useEffect}from'react';import{api}from'../services/api';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export const ChatInterface=()=>{const[messages,setMessages]=useState([]);const[inputMessage,setInputMessage]=useState('');const[isLoading,setIsLoading]=useState(false);const messagesEndRef=useRef(null);const scrollToBottom=()=>{var _messagesEndRef$curre;(_messagesEndRef$curre=messagesEndRef.current)===null||_messagesEndRef$curre===void 0?void 0:_messagesEndRef$curre.scrollIntoView({behavior:'smooth'});};useEffect(()=>{scrollToBottom();},[messages]);const sendMessage=async()=>{if(!inputMessage.trim()||isLoading)return;const userMessage={role:'user',content:inputMessage,timestamp:new Date()};setMessages(prev=>[...prev,userMessage]);setInputMessage('');setIsLoading(true);try{const response=await api.sendMessage(inputMessage);const assistantMessage={role:'assistant',content:response.response,timestamp:new Date()};setMessages(prev=>[...prev,assistantMessage]);}catch(error){console.error('Error sending message:',error);const errorMessage={role:'assistant',content:'Sorry, I encountered an error. Please try again.',timestamp:new Date()};setMessages(prev=>[...prev,errorMessage]);}finally{setIsLoading(false);}};const handleKeyPress=e=>{if(e.key==='Enter'&&!e.shiftKey){e.preventDefault();sendMessage();}};return/*#__PURE__*/_jsxs(\"div\",{style:{maxWidth:'800px',margin:'0 auto',height:'70vh',display:'flex',flexDirection:'column',backgroundColor:'white',borderRadius:'0.5rem',boxShadow:'0 4px 6px -1px rgba(0, 0, 0, 0.1)',overflow:'hidden'},children:[/*#__PURE__*/_jsx(\"div\",{style:{padding:'1rem',borderBottom:'1px solid #e5e7eb',backgroundColor:'#f9fafb'},children:/*#__PURE__*/_jsx(\"h2\",{style:{margin:0,fontSize:'1.25rem',fontWeight:'600'},children:\"Chat with AURA\"})}),/*#__PURE__*/_jsxs(\"div\",{style:{flex:1,overflowY:'auto',padding:'1rem',display:'flex',flexDirection:'column',gap:'1rem'},children:[messages.length===0&&/*#__PURE__*/_jsx(\"div\",{style:{textAlign:'center',color:'#6b7280',padding:'2rem'},children:\"Start a conversation with your AI assistant\"}),messages.map((message,index)=>/*#__PURE__*/_jsx(\"div\",{style:{display:'flex',justifyContent:message.role==='user'?'flex-end':'flex-start'},children:/*#__PURE__*/_jsxs(\"div\",{style:{maxWidth:'70%',padding:'0.75rem 1rem',borderRadius:'1rem',backgroundColor:message.role==='user'?'#2563eb':'#f3f4f6',color:message.role==='user'?'white':'#1f2937'},children:[/*#__PURE__*/_jsx(\"div\",{style:{whiteSpace:'pre-wrap'},children:message.content}),/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'0.75rem',opacity:0.7,marginTop:'0.25rem'},children:message.timestamp.toLocaleTimeString()})]})},index)),isLoading&&/*#__PURE__*/_jsx(\"div\",{style:{display:'flex',justifyContent:'flex-start'},children:/*#__PURE__*/_jsx(\"div\",{style:{padding:'0.75rem 1rem',borderRadius:'1rem',backgroundColor:'#f3f4f6',color:'#6b7280'},children:\"Thinking...\"})}),/*#__PURE__*/_jsx(\"div\",{ref:messagesEndRef})]}),/*#__PURE__*/_jsx(\"div\",{style:{padding:'1rem',borderTop:'1px solid #e5e7eb',backgroundColor:'#f9fafb'},children:/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',gap:'0.5rem'},children:[/*#__PURE__*/_jsx(\"textarea\",{value:inputMessage,onChange:e=>setInputMessage(e.target.value),onKeyPress:handleKeyPress,placeholder:\"Type your message...\",disabled:isLoading,style:{flex:1,padding:'0.75rem',border:'1px solid #d1d5db',borderRadius:'0.375rem',resize:'none',minHeight:'2.5rem',maxHeight:'6rem',fontSize:'0.875rem'},rows:1}),/*#__PURE__*/_jsx(\"button\",{onClick:sendMessage,disabled:!inputMessage.trim()||isLoading,style:{padding:'0.75rem 1.5rem',backgroundColor:'#2563eb',color:'white',border:'none',borderRadius:'0.375rem',cursor:'pointer',fontSize:'0.875rem',fontWeight:'500',opacity:!inputMessage.trim()||isLoading?0.5:1},children:\"Send\"})]})})]});};","map":{"version":3,"names":["React","useState","useRef","useEffect","api","jsx","_jsx","jsxs","_jsxs","ChatInterface","messages","setMessages","inputMessage","setInputMessage","isLoading","setIsLoading","messagesEndRef","scrollToBottom","_messagesEndRef$curre","current","scrollIntoView","behavior","sendMessage","trim","userMessage","role","content","timestamp","Date","prev","response","assistantMessage","error","console","errorMessage","handleKeyPress","e","key","shiftKey","preventDefault","style","maxWidth","margin","height","display","flexDirection","backgroundColor","borderRadius","boxShadow","overflow","children","padding","borderBottom","fontSize","fontWeight","flex","overflowY","gap","length","textAlign","color","map","message","index","justifyContent","whiteSpace","opacity","marginTop","toLocaleTimeString","ref","borderTop","value","onChange","target","onKeyPress","placeholder","disabled","border","resize","minHeight","maxHeight","rows","onClick","cursor"],"sources":["C:/Users/Raf/Desktop/aura/aura-voice-ai/frontend/src/components/ChatInterface.tsx"],"sourcesContent":["// Main chat window where users talk to their AI\r\nimport React, { useState, useRef, useEffect } from 'react';\r\nimport { api } from '../services/api';\r\n\r\ninterface Message {\r\n  role: 'user' | 'assistant';\r\n  content: string;\r\n  timestamp: Date;\r\n}\r\n\r\nexport const ChatInterface = () => {\r\n  const [messages, setMessages] = useState<Message[]>([]);\r\n  const [inputMessage, setInputMessage] = useState('');\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const messagesEndRef = useRef<HTMLDivElement>(null);\r\n\r\n  const scrollToBottom = () => {\r\n    messagesEndRef.current?.scrollIntoView({ behavior: 'smooth' });\r\n  };\r\n\r\n  useEffect(() => {\r\n    scrollToBottom();\r\n  }, [messages]);\r\n\r\n  const sendMessage = async () => {\r\n    if (!inputMessage.trim() || isLoading) return;\r\n\r\n    const userMessage: Message = {\r\n      role: 'user',\r\n      content: inputMessage,\r\n      timestamp: new Date()\r\n    };\r\n\r\n    setMessages(prev => [...prev, userMessage]);\r\n    setInputMessage('');\r\n    setIsLoading(true);\r\n\r\n    try {\r\n      const response = await api.sendMessage(inputMessage);\r\n      const assistantMessage: Message = {\r\n        role: 'assistant',\r\n        content: response.response,\r\n        timestamp: new Date()\r\n      };\r\n      setMessages(prev => [...prev, assistantMessage]);\r\n    } catch (error) {\r\n      console.error('Error sending message:', error);\r\n      const errorMessage: Message = {\r\n        role: 'assistant',\r\n        content: 'Sorry, I encountered an error. Please try again.',\r\n        timestamp: new Date()\r\n      };\r\n      setMessages(prev => [...prev, errorMessage]);\r\n    } finally {\r\n      setIsLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleKeyPress = (e: React.KeyboardEvent) => {\r\n    if (e.key === 'Enter' && !e.shiftKey) {\r\n      e.preventDefault();\r\n      sendMessage();\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div style={{\r\n      maxWidth: '800px',\r\n      margin: '0 auto',\r\n      height: '70vh',\r\n      display: 'flex',\r\n      flexDirection: 'column',\r\n      backgroundColor: 'white',\r\n      borderRadius: '0.5rem',\r\n      boxShadow: '0 4px 6px -1px rgba(0, 0, 0, 0.1)',\r\n      overflow: 'hidden'\r\n    }}>\r\n      <div style={{\r\n        padding: '1rem',\r\n        borderBottom: '1px solid #e5e7eb',\r\n        backgroundColor: '#f9fafb'\r\n      }}>\r\n        <h2 style={{ margin: 0, fontSize: '1.25rem', fontWeight: '600' }}>\r\n          Chat with AURA\r\n        </h2>\r\n      </div>\r\n\r\n      <div style={{\r\n        flex: 1,\r\n        overflowY: 'auto',\r\n        padding: '1rem',\r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n        gap: '1rem'\r\n      }}>\r\n        {messages.length === 0 && (\r\n          <div style={{\r\n            textAlign: 'center',\r\n            color: '#6b7280',\r\n            padding: '2rem'\r\n          }}>\r\n            Start a conversation with your AI assistant\r\n          </div>\r\n        )}\r\n\r\n        {messages.map((message, index) => (\r\n          <div\r\n            key={index}\r\n            style={{\r\n              display: 'flex',\r\n              justifyContent: message.role === 'user' ? 'flex-end' : 'flex-start'\r\n            }}\r\n          >\r\n            <div style={{\r\n              maxWidth: '70%',\r\n              padding: '0.75rem 1rem',\r\n              borderRadius: '1rem',\r\n              backgroundColor: message.role === 'user' ? '#2563eb' : '#f3f4f6',\r\n              color: message.role === 'user' ? 'white' : '#1f2937'\r\n            }}>\r\n              <div style={{ whiteSpace: 'pre-wrap' }}>\r\n                {message.content}\r\n              </div>\r\n              <div style={{\r\n                fontSize: '0.75rem',\r\n                opacity: 0.7,\r\n                marginTop: '0.25rem'\r\n              }}>\r\n                {message.timestamp.toLocaleTimeString()}\r\n              </div>\r\n            </div>\r\n          </div>\r\n        ))}\r\n\r\n        {isLoading && (\r\n          <div style={{ display: 'flex', justifyContent: 'flex-start' }}>\r\n            <div style={{\r\n              padding: '0.75rem 1rem',\r\n              borderRadius: '1rem',\r\n              backgroundColor: '#f3f4f6',\r\n              color: '#6b7280'\r\n            }}>\r\n              Thinking...\r\n            </div>\r\n          </div>\r\n        )}\r\n        <div ref={messagesEndRef} />\r\n      </div>\r\n\r\n      <div style={{\r\n        padding: '1rem',\r\n        borderTop: '1px solid #e5e7eb',\r\n        backgroundColor: '#f9fafb'\r\n      }}>\r\n        <div style={{ display: 'flex', gap: '0.5rem' }}>\r\n          <textarea\r\n            value={inputMessage}\r\n            onChange={(e) => setInputMessage(e.target.value)}\r\n            onKeyPress={handleKeyPress}\r\n            placeholder=\"Type your message...\"\r\n            disabled={isLoading}\r\n            style={{\r\n              flex: 1,\r\n              padding: '0.75rem',\r\n              border: '1px solid #d1d5db',\r\n              borderRadius: '0.375rem',\r\n              resize: 'none',\r\n              minHeight: '2.5rem',\r\n              maxHeight: '6rem',\r\n              fontSize: '0.875rem'\r\n            }}\r\n            rows={1}\r\n          />\r\n          <button\r\n            onClick={sendMessage}\r\n            disabled={!inputMessage.trim() || isLoading}\r\n            style={{\r\n              padding: '0.75rem 1.5rem',\r\n              backgroundColor: '#2563eb',\r\n              color: 'white',\r\n              border: 'none',\r\n              borderRadius: '0.375rem',\r\n              cursor: 'pointer',\r\n              fontSize: '0.875rem',\r\n              fontWeight: '500',\r\n              opacity: (!inputMessage.trim() || isLoading) ? 0.5 : 1\r\n            }}\r\n          >\r\n            Send\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}